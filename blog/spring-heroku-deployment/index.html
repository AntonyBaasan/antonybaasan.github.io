<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us">
<head>
  <link href="//gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.58.3" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Spring Boot Heroku Deployment &middot; Antony Baasan</title>

  
  <link type="text/css" rel="stylesheet" href="https://antonybaasan.github.io/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://antonybaasan.github.io/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://antonybaasan.github.io/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://antonybaasan.github.io/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  
</head>

  <body class=" ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://antonybaasan.github.io/"><h1>Antony Baasan</h1></a>
      <p class="lead">
      
      Thoughts and lessons about software development.
      
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://antonybaasan.github.io/">Home</a> </li>
        
      </ul>
    </nav>

    <p>&copy; 2019. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="post">
  <h1>Spring Boot Heroku Deployment</h1>
  <time datetime=2019-10-04T14:03:24-0400 class="post-date">Fri, Oct 4, 2019</time>
  <p>Let&rsquo;s see an example of deploying a Spring boot application to the Heroku using Travis-CI.</p>

<p>The Heroku has good documentation about how to deploy Spring boot application to the Heroku:</p>

<p><a href="https://devcenter.heroku.com/articles/deploying-spring-boot-apps-to-heroku#customizing-the-boot-command">https://devcenter.heroku.com/articles/deploying-spring-boot-apps-to-heroku#customizing-the-boot-command</a></p>

<p>If your Spring project is not inside the root directory of the repository then Heroku git deployment will not recognize (missing pom.xml file) and deploy the application correctly. In that case, there is another way to deploy the application - war deployment:</p>

<p><a href="https://devcenter.heroku.com/articles/war-deployment">https://devcenter.heroku.com/articles/war-deployment</a></p>

<p>In this article, I&rsquo;ll explain how did I set up the backend Web API part of the <a href="https://github.com/antonyBaasan/godzula/">Godzula</a> project. The backend is a Spring boot project that generated by <a href="https://www.jhipster.tech/separating-front-end-and-api/">JHipster</a>.</p>

<p>Here is the <code>.travis.yml</code> example file:</p>

<div class="highlight"><div style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">199
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">200
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">201
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">202
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">203
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">204
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">205
</span><span style="display:block;width:100%;background-color:#3c3d38"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">206
</span></span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">207
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">deploy</span>:
  <span style="color:#a6e22e">stage</span>: <span style="color:#a6e22e">deploy</span>
  <span style="color:#a6e22e">script</span>:
  <span style="color:#f92672">-</span> <span style="color:#a6e22e">curl</span> <span style="color:#a6e22e">https</span>:<span style="color:#75715e">//cli-assets.heroku.com/install-ubuntu.sh | sh
</span><span style="color:#75715e"></span>  <span style="color:#f92672">-</span> <span style="color:#a6e22e">cd</span> <span style="color:#a6e22e">godzula</span>
  <span style="color:#f92672">-</span> <span style="color:#a6e22e">heroku</span> <span style="color:#a6e22e">plugins</span>:<span style="color:#a6e22e">install</span> <span style="color:#a6e22e">java</span>
  <span style="color:#f92672">-</span> <span style="color:#a6e22e">heroku</span> <span style="color:#a6e22e">deploy</span>:<span style="color:#a6e22e">jar</span> <span style="color:#a6e22e">target</span><span style="color:#f92672">/*</span>.<span style="color:#a6e22e">war</span> <span style="color:#f92672">--</span><span style="color:#a6e22e">app</span> <span style="color:#a6e22e">godzula</span>
<span style="display:block;width:100%;background-color:#3c3d38">  <span style="color:#a6e22e">only</span>:
</span>  <span style="color:#f92672">-</span> <span style="color:#a6e22e">deploy</span></code></pre></td></tr></table>
</div>
</div>

<p>In order to Heroku CLI work correctly we have to add <code>HEROKU_API_KEY</code> environment variable in the Travis settings. This is token that generated beforehand locally by logged in Heroku user. Run the next command <code>heroku auth:token</code>.</p>
</div>


    </main>

    
  </body>
</html>
